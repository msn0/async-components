"use strict";(function(e){var t="data-component";var n="data-detail";var r="data-event";var o={attributes:true,childList:true,characterData:false,subtree:true,attributeFilter:[t]};function a(e){return e.text()}function i(e){var t=e.node.getAttribute(n);e.eventName=e.node.getAttribute(r);try{e.detail=JSON.parse(t)}catch(o){e.detail=t}return Promise.resolve(e)}function c(e){return function(t){return i({node:e,text:t})}}function u(t){var n=new DOMParser;var r=n.parseFromString(t.text,"text/html");[].slice.call(r.body.childNodes).forEach(function(n){var r;if(n.nodeName==="SCRIPT"){r=e.createElement("script");r.appendChild(e.createTextNode(n.innerHTML));t.node.appendChild(r)}else{t.node.appendChild(n)}});return Promise.resolve(t)}function d(t){var n=new CustomEvent(t.eventName,{detail:{node:t.node,data:t.detail}});e.dispatchEvent(n);return Promise.resolve(t.node)}function l(){console.error("Error occured")}function s(e){var n=e.querySelectorAll("["+t+"]");m(n).forEach(h)}function f(e){var n=e.getAttribute(t);fetch(n).then(a).then(c(e)).then(u).then(d).then(s)["catch"](l)}function v(e){return e.nodeType===1&&e.getAttribute(t)}function h(e){return setTimeout(f(e),0)}function m(e){return[].slice.call(e)}function p(e){m(e).filter(v).forEach(h)}var b=new MutationObserver(function(e){e.forEach(function(e){p(e.addedNodes)})});b.observe(e.body,o)})(document);